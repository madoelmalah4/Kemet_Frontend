(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{52290:function(e,t,a){Promise.resolve().then(a.bind(a,23981))},23981:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(57437),s=a(2265),n=a(99376),l=a(27648),i=a(52345),c=a(79405),d=a(39763);let o=(0,d.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),h=(0,d.Z)("Pyramid",[["path",{d:"M2.5 16.88a1 1 0 0 1-.32-1.43l9-13.02a1 1 0 0 1 1.64 0l9 13.01a1 1 0 0 1-.32 1.44l-8.51 4.86a2 2 0 0 1-1.98 0Z",key:"aenxs0"}],["path",{d:"M12 2v20",key:"t6zp3m"}]]);var x=a(42488);let m=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var u=a(32489),g=a(58293),f=a(47692),y=a(30406),v=a(62869),b=a(24114);function p(e){var t;let{children:a}=e,{user:d,isAuthenticated:p,isAdmin:j,logout:w}=(0,y.a)(),N=(0,n.useRouter)(),k=(0,n.usePathname)(),[Z,z]=(0,s.useState)(!0),[E,M]=(0,s.useState)(!1),_=(0,i.J)(),[A,S]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{M(!0),S(!!_)},[_]),(0,s.useEffect)(()=>{!E||p&&j||N.push("/login")},[p,j,N,E]),!E)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex flex-col items-center gap-4",children:(0,r.jsx)("div",{className:"w-10 h-10 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"})})});if(!p||!j)return null;let C=[{name:"Dashboard",href:"/admin",icon:o},{name:"Destinations",href:"/admin/destinations",icon:h},{name:"Analytics",href:"/admin/analytics",icon:x.Z},{name:"Settings",href:"/admin/settings",icon:m}],D=e=>k===e;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,r.jsxs)(c.E.aside,{initial:!A&&{width:280},animate:A?void 0:{width:Z?280:80},transition:A?void 0:{duration:.2,ease:"easeInOut"},className:"hidden md:flex flex-col bg-white border-r h-screen sticky top-0 z-30 shadow-sm",children:[(0,r.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[Z?(0,r.jsxs)("div",{className:"flex items-center gap-3 font-display font-bold text-xl text-gray-800",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-xl overflow-hidden bg-center bg-cover",style:{backgroundImage:"url(/logo.png)"}}),(0,r.jsx)("span",{children:"Kemet"})]}):(0,r.jsx)("div",{className:"w-8 h-8 rounded-xl overflow-hidden bg-center bg-cover",style:{backgroundImage:"url(/logo.png)"}}),(0,r.jsx)("button",{onClick:()=>z(!Z),className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 hidden lg:block",children:Z?(0,r.jsx)(u.Z,{className:"w-5 h-5"}):(0,r.jsx)(g.Z,{className:"w-5 h-5"})})]}),Z&&(0,r.jsx)("div",{className:"px-6 -mt-4 mb-2",children:(0,r.jsx)(l.default,{href:"/",className:"text-xs text-gray-500 hover:text-gray-800",children:"â† Back to Home"})}),(0,r.jsx)("div",{className:"px-4 mb-6 ".concat(!Z&&"text-center"),children:(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/10 ".concat(!Z&&"justify-center"),children:[(0,r.jsx)(b.qE,{className:"h-10 w-10 border-2 border-white shadow-sm",children:(0,r.jsx)(b.Q5,{className:"bg-gradient-to-br from-gray-700 to-gray-600 text-white font-medium",children:(null==d?void 0:null===(t=d.name)||void 0===t?void 0:t.charAt(0))||"A"})}),Z&&(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsx)("p",{className:"font-semibold text-sm truncate text-gray-900",children:null==d?void 0:d.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500 truncate",children:"Administrator"})]})]})}),(0,r.jsx)("nav",{className:"flex-1 px-3 space-y-1 overflow-y-auto custom-scrollbar",children:C.map(e=>{let t=e.icon,a=D(e.href);return(0,r.jsx)(l.default,{href:e.href,className:"block",children:(0,r.jsxs)("div",{className:"relative group flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-300\n          ".concat(a?"bg-gradient-to-r from-gray-900 to-gray-800 text-white shadow-md shadow-black/30":"text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800"),children:[a&&(0,r.jsx)("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-6 w-1 rounded-full bg-blue-500"}),(0,r.jsx)(t,{className:"h-5 w-5 transition-all duration-300\n            ".concat(a?"text-white":"text-gray-400 group-hover:text-gray-900","\n            ").concat(!Z&&"mx-auto","\n          ")}),Z&&(0,r.jsx)("span",{className:"text-sm font-medium transition-colors duration-300\n              ".concat(a?"text-white":"text-gray-700 group-hover:text-gray-900"),children:e.name})]})},e.name)})}),(0,r.jsx)("div",{className:"p-4 mt-auto",children:(0,r.jsxs)(v.z,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50 justify-start ".concat(!Z&&"justify-center px-0"),onClick:()=>{w(),N.push("/")},children:[(0,r.jsx)(f.Z,{className:"h-5 w-5 mr-0 md:mr-2"}),Z&&"Log out"]})})]}),(0,r.jsx)("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto h-screen",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:a})}),(0,r.jsx)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t z-50",children:(0,r.jsx)("div",{className:"grid grid-cols-6 gap-1 p-2",children:C.map(e=>{let t=e.icon,a=D(e.href);return(0,r.jsx)(l.default,{href:e.href,className:"flex flex-col items-center py-2 px-1 rounded-lg transition-colors ".concat(a?"text-gray-800 bg-gray-100":"text-gray-500"),children:(0,r.jsx)(t,{className:"h-5 w-5"})},e.name)})})})]})}},42488:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},58293:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},32489:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[6137,7210,5650,3557,4236,7903,2971,2117,1744],function(){return e(e.s=52290)}),_N_E=e.O()}]);