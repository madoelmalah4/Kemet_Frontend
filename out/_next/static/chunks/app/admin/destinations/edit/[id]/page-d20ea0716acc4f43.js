(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9638],{69332:function(e,s,i){Promise.resolve().then(i.bind(i,87551))},87551:function(e,s,i){"use strict";i.d(s,{default:function(){return b}});var a=i(57437),r=i(2265),t=i(99376),n=i(79405),l=i(15863),c=i(32660),d=i(83229),o=i(29501),m=i(13590),x=i(67119),h=i(62869),j=i(95186),p=i(76818),u=i(66070),g=i(15681),y=i(77992),f=i(27648),N=i(37775);let v=x.Ry({name:x.Z_().min(2,"Name must be at least 2 characters"),city:x.Z_().min(2,"City must be at least 2 characters"),description:x.Z_().min(10,"Description must be at least 10 characters"),imageUrl:x.Z_().url("Please enter a valid image URL"),vrUrlImage:x.Z_().optional().or(x.i0(""))});function b(e){let{params:s}=e,i=(0,t.useRouter)(),{toast:x}=(0,y.pm)(),{data:b,isLoading:I}=(0,N.t$)(s.id),[U,{isLoading:w}]=(0,N.aZ)(),Z=(0,o.cI)({resolver:(0,m.F)(v),defaultValues:{name:"",city:"",description:"",imageUrl:"",vrUrlImage:""}});(0,r.useEffect)(()=>{b&&Z.reset({name:b.name,city:b.city,description:b.description,imageUrl:b.imageUrl,vrUrlImage:b.vrUrlImage||""})},[b,Z]);let _=async e=>{try{await U({id:s.id,data:{...e,vrUrlImage:e.vrUrlImage||""}}).unwrap(),x({title:"Success",description:"Destination updated successfully"}),i.push("/admin/destinations")}catch(e){x({title:"Error",description:"Failed to update destination",variant:"destructive"})}};return I?(0,a.jsx)("div",{className:"flex justify-center items-center h-96",children:(0,a.jsx)(l.Z,{className:"w-8 h-8 animate-spin text-egyptian-gold"})}):(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(f.default,{href:"/admin/destinations",children:(0,a.jsx)(h.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-display font-bold text-gray-900",children:"Edit Destination"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Update destination details"})]})]}),(0,a.jsxs)(u.Zb,{className:"border-none shadow-sm bg-white/80 backdrop-blur-sm max-w-2xl",children:[(0,a.jsx)(u.Ol,{children:(0,a.jsx)(u.ll,{children:"Destination Details"})}),(0,a.jsx)(u.aY,{children:(0,a.jsx)(g.l0,{...Z,children:(0,a.jsxs)("form",{onSubmit:Z.handleSubmit(_),className:"space-y-6",children:[(0,a.jsx)(g.Wi,{control:Z.control,name:"name",render:e=>{let{field:s}=e;return(0,a.jsxs)(g.xJ,{children:[(0,a.jsx)(g.lX,{children:"Name"}),(0,a.jsx)(g.NI,{children:(0,a.jsx)(j.I,{placeholder:"e.g. Pyramids of Giza",...s})}),(0,a.jsx)(g.zG,{})]})}}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,a.jsx)(g.Wi,{control:Z.control,name:"city",render:e=>{let{field:s}=e;return(0,a.jsxs)(g.xJ,{children:[(0,a.jsx)(g.lX,{children:"City"}),(0,a.jsx)(g.NI,{children:(0,a.jsx)(j.I,{placeholder:"e.g. Cairo",...s})}),(0,a.jsx)(g.zG,{})]})}})}),(0,a.jsx)(g.Wi,{control:Z.control,name:"imageUrl",render:e=>{let{field:s}=e;return(0,a.jsxs)(g.xJ,{children:[(0,a.jsx)(g.lX,{children:"Image URL"}),(0,a.jsx)(g.NI,{children:(0,a.jsx)(j.I,{placeholder:"https://...",...s})}),(0,a.jsx)(g.zG,{})]})}}),(0,a.jsx)(g.Wi,{control:Z.control,name:"vrUrlImage",render:e=>{let{field:s}=e;return(0,a.jsxs)(g.xJ,{children:[(0,a.jsx)(g.lX,{children:"VR Tour URL (Optional)"}),(0,a.jsx)(g.NI,{children:(0,a.jsx)(j.I,{placeholder:"https://...",...s})}),(0,a.jsx)(g.zG,{})]})}}),(0,a.jsx)(g.Wi,{control:Z.control,name:"description",render:e=>{let{field:s}=e;return(0,a.jsxs)(g.xJ,{children:[(0,a.jsx)(g.lX,{children:"Description"}),(0,a.jsx)(g.NI,{children:(0,a.jsx)(p.g,{placeholder:"Provide a detailed description...",className:"min-h-[150px]",...s})}),(0,a.jsx)(g.zG,{})]})}}),(0,a.jsx)("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200 dark:border-gray-800",children:(0,a.jsx)(h.z,{type:"submit",disabled:w,className:"relative px-6 py-2.5 rounded-xl font-medium text-white    bg-gradient-to-r from-egyptian-nile to-blue-600    hover:from-blue-600 hover:to-egyptian-nile   transition-all duration-300 shadow-md hover:shadow-lg    disabled:opacity-60 disabled:cursor-not-allowed",children:w?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"Update Destination"]})})})]})})})]})]})}}},function(e){e.O(0,[6137,7210,5650,3557,5732,7520,2971,2117,1744],function(){return e(e.s=69332)}),_N_E=e.O()}]);