(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{26259:function(e,s,t){Promise.resolve().then(t.bind(t,47354))},47354:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return H}});var a=t(57437),r=t(2265),l=t(27648),i=t(33145),n=t(79405),d=t(15863),c=t(99397),o=t(83774),x=t(53113),m=t(29374),h=t(73247),f=t(42208),u=t(15868),j=t(18930),g=t(37775),N=t(62869),p=t(95186),b=t(66070),y=t(94508);let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,y.cn)("w-full caption-bottom text-sm",t),...r})})});v.displayName="Table";let w=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:(0,y.cn)("[&_tr]:border-b",t),...r})});w.displayName="TableHeader";let R=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,y.cn)("[&_tr:last-child]:border-0",t),...r})});R.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,y.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let Z=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:(0,y.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});Z.displayName="TableRow";let C=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:(0,y.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});C.displayName="TableHead";let z=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:(0,y.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});z.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:(0,y.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";var k=t(35974),D=t(77992),T=t(91251);let _=T.fC,U=T.xz,E=T.h_,I=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(T.aV,{className:(0,y.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});I.displayName=T.aV.displayName;let V=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(E,{children:[(0,a.jsx)(I,{}),(0,a.jsx)(T.VY,{ref:s,className:(0,y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});V.displayName=T.VY.displayName;let Y=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,y.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};Y.displayName="AlertDialogHeader";let A=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,y.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};A.displayName="AlertDialogFooter";let F=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(T.Dx,{ref:s,className:(0,y.cn)("text-lg font-semibold",t),...r})});F.displayName=T.Dx.displayName;let L=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(T.dk,{ref:s,className:(0,y.cn)("text-sm text-muted-foreground",t),...r})});L.displayName=T.dk.displayName;let P=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(T.aU,{ref:s,className:(0,y.cn)((0,N.d)(),t),...r})});P.displayName=T.aU.displayName;let S=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(T.$j,{ref:s,className:(0,y.cn)((0,N.d)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});function H(){let{toast:e}=(0,D.pm)(),[s,t]=(0,r.useState)(""),{data:y=[],isLoading:T,error:E}=(0,g.R5)(),[I,{isLoading:H}]=(0,g.Fm)(),O=y.filter(e=>{var t;return e.name.toLowerCase().includes(s.toLowerCase())||(null===(t=e.city)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase()))}),B=(0,r.useMemo)(()=>{let e=new Set(y.map(e=>e.city)).size,s=y.filter(e=>e.imageUrl).length,t=y.filter(e=>e.vrUrlImage).length;return{total:y.length,cities:e,withImages:s,withVR:t}},[y]),M=async s=>{try{await I(s).unwrap(),e({title:"Success",description:"Destination deleted successfully"})}catch(s){e({title:"Error",description:"Failed to delete destination",variant:"destructive"})}};return T?(0,a.jsx)("div",{className:"flex justify-center items-center h-96",children:(0,a.jsx)(d.Z,{className:"w-8 h-8 animate-spin text-blue-600"})}):E?(0,a.jsx)("div",{className:"p-8 text-red-500",children:"Error loading destinations. Please try again."}):(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-display font-bold text-gray-900",children:"Destinations"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage all travel destinations"})]}),(0,a.jsx)(l.default,{href:"/admin/destinations/create",children:(0,a.jsxs)(N.z,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Add Destination"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(b.Zb,{className:"border-gray-200",children:(0,a.jsx)(b.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Destinations"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:B.total})]}),(0,a.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,a.jsx)(b.Zb,{className:"border-gray-200",children:(0,a.jsx)(b.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Cities"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:B.cities})]}),(0,a.jsx)("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"h-6 w-6 text-orange-600"})})]})})}),(0,a.jsx)(b.Zb,{className:"border-gray-200",children:(0,a.jsx)(b.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"With Images"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:B.withImages})]}),(0,a.jsx)("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"h-6 w-6 text-green-600"})})]})})}),(0,a.jsx)(b.Zb,{className:"border-gray-200",children:(0,a.jsx)(b.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"With VR Tours"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:B.withVR})]}),(0,a.jsx)("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"h-6 w-6 text-purple-600"})})]})})})]}),(0,a.jsxs)(b.Zb,{className:"border-gray-200",children:[(0,a.jsx)(b.Ol,{className:"border-b border-gray-200 bg-gray-50/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(b.ll,{className:"text-lg font-semibold",children:"All Destinations"}),(0,a.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,a.jsx)(h.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(p.I,{placeholder:"Search destinations...",value:s,onChange:e=>t(e.target.value),className:"pl-9 h-9 bg-white"})]})]})}),(0,a.jsx)(b.aY,{className:"p-0",children:(0,a.jsxs)(v,{children:[(0,a.jsx)(w,{children:(0,a.jsxs)(Z,{className:"bg-gray-50/50",children:[(0,a.jsx)(C,{className:"w-[80px]",children:"Image"}),(0,a.jsx)(C,{children:"Name"}),(0,a.jsx)(C,{children:"City"}),(0,a.jsx)(C,{children:"Price"}),(0,a.jsx)(C,{className:"w-[120px]",children:"Features"}),(0,a.jsx)(C,{className:"text-right w-[140px]",children:"Actions"})]})}),(0,a.jsx)(R,{children:0===O.length?(0,a.jsx)(Z,{children:(0,a.jsx)(z,{colSpan:5,className:"h-32 text-center text-gray-500",children:"No destinations found."})}):O.map(e=>{var s;return(0,a.jsxs)(Z,{className:"hover:bg-gray-50/50",children:[(0,a.jsx)(z,{children:(0,a.jsx)("div",{className:"relative w-14 h-14 rounded-lg overflow-hidden bg-gray-100 border border-gray-200",children:e.imageUrl?(0,a.jsx)(i.default,{src:e.imageUrl,alt:e.name,fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"w-5 h-5 text-gray-400"})})})}),(0,a.jsxs)(z,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500 line-clamp-1 mt-0.5",children:e.description})]}),(0,a.jsx)(z,{children:(0,a.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,a.jsx)(o.Z,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),e.city]})}),(0,a.jsx)(z,{children:(0,a.jsxs)("div",{className:"font-semibold text-gray-900",children:[null!==(s=e.estimatedPrice)&&void 0!==s?s:0," EGP"]})}),(0,a.jsx)(z,{children:(0,a.jsxs)("div",{className:"flex gap-1.5",children:[e.imageUrl&&(0,a.jsxs)(k.C,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 hover:bg-green-100",children:[(0,a.jsx)(x.Z,{className:"w-3 h-3 mr-1"}),"Image"]}),e.vrUrlImage&&(0,a.jsxs)(k.C,{variant:"secondary",className:"text-xs bg-purple-100 text-purple-700 hover:bg-purple-100",children:[(0,a.jsx)(m.Z,{className:"w-3 h-3 mr-1"}),"VR"]})]})}),(0,a.jsx)(z,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(l.default,{href:"/destinations/detail?id=".concat(e.id),target:"_blank",children:(0,a.jsx)(N.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-600 hover:text-blue-600 hover:bg-blue-50",children:(0,a.jsx)(f.Z,{className:"w-4 h-4"})})}),(0,a.jsx)(l.default,{href:"/admin/destinations/edit?id=".concat(e.id),children:(0,a.jsx)(N.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-600 hover:text-orange-600 hover:bg-orange-50",children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(U,{asChild:!0,children:(0,a.jsx)(N.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-600 hover:text-red-600 hover:bg-red-50",children:(0,a.jsx)(j.Z,{className:"w-4 h-4"})})}),(0,a.jsxs)(V,{children:[(0,a.jsxs)(Y,{children:[(0,a.jsx)(F,{children:"Delete Destination?"}),(0,a.jsxs)(L,{children:['This will permanently delete "',e.name,'". This action cannot be undone.']})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(S,{children:"Cancel"}),(0,a.jsx)(P,{onClick:()=>M(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},e.id)})})]})})]})]})}S.displayName=T.$j.displayName},35974:function(e,s,t){"use strict";t.d(s,{C:function(){return i}});var a=t(57437),r=t(2265),l=t(94508);let i=r.forwardRef((e,s)=>{let{className:t,variant:r="default",...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input"}[r],t),...i})});i.displayName="Badge"}},function(e){e.O(0,[6137,7210,5650,3557,3145,7489,423,4407,2971,2117,1744],function(){return e(e.s=26259)}),_N_E=e.O()}]);