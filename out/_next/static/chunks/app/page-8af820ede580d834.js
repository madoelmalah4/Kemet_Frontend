(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{4776:function(e,t,a){Promise.resolve().then(a.bind(a,68725))},68725:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var r=a(57437),i=a(27648),n=a(33145),s=a(2265),o=a(94508);function l(e){let{src:t,alt:a,fill:i=!1,className:l,width:d,height:c,priority:u=!1,fallbackSrc:x}=e,[h,m]=(0,s.useState)(t),[p,f]=(0,s.useState)(!1),g=()=>{if(x)return x;let e=a.toLowerCase();return e.includes("pyramid")||e.includes("giza")?"/images/pyramids-giza.svg":e.includes("luxor")?"/images/luxor-temple.svg":e.includes("red sea")||e.includes("resort")?"/images/red-sea-resort.svg":"https://placehold.co/600x400"};return(0,r.jsxs)("div",{className:(0,o.cn)("relative overflow-hidden",l),children:[(0,r.jsx)(n.default,{src:h,alt:a,fill:i,width:i?void 0:d,height:i?void 0:c,priority:u,className:(0,o.cn)("object-cover transition-all duration-300",p&&"opacity-90"),onError:()=>{p||(f(!0),m(g()))},unoptimized:!0}),p&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,r.jsx)("div",{className:"text-center text-gray-500 bg-white/80 px-2 py-1 rounded",children:(0,r.jsx)("span",{className:"text-xs",children:"Fallback Image"})})})]})}var d=a(45447),c=a(24317),u=a(79405),x=a(82023),h=a(53417),m=a(77945),p=a(76858),f=a(15863),g=a(66901),v=a(62869),y=a(66070),b=a(35974),w=a(6512),j=a(37775),N=a(37610),k=a(72218),T=a(77992),E=a(88997);function S(e){let{id:t}=e,{toast:a}=(0,T.pm)(),i=(0,N.CG)(k.vN),{data:n=[]}=(0,j.X_)(void 0,{skip:!i}),[s]=(0,j.ul)(),[o]=(0,j.XB)(),l=n.some(e=>e.id===t),d=async e=>{if(e.preventDefault(),e.stopPropagation(),!i){a({title:"Authentication Required",description:"Please login to save favorites.",variant:"destructive"});return}try{l?(await o(t).unwrap(),a({title:"Removed from favorites"})):(await s(t).unwrap(),a({title:"Added to favorites"}))}catch(e){a({title:"Error",description:"Failed to update favorites.",variant:"destructive"})}};return(0,r.jsx)(v.z,{variant:"secondary",size:"icon",className:"rounded-full h-10 w-10 shadow-lg backdrop-blur-md transition-all ".concat(l?"bg-red-50 text-red-500":"bg-white/20 text-white hover:bg-white/40"),onClick:d,children:(0,r.jsx)(E.Z,{className:"w-5 h-5 ".concat(l?"fill-current":"")})})}function I(){let{data:e=[],isLoading:t}=(0,j.R5)(),a=e.slice(0,6),o=(0,s.useRef)(null),{scrollYProgress:N}=(0,d.v)({target:o,offset:["start start","end end"]});(0,c.H)(N,[0,1],["0%","50%"]);let k=[{icon:x.Z,title:"AI-Powered Planning",description:"Get personalized itineraries based on your preferences, budget, and travel style",color:"text-orange-500",delay:0},{icon:h.Z,title:"24/7 AI Assistant",description:"Get instant answers to your questions about Egypt anytime, anywhere",color:"text-blue-600",delay:.1},{icon:m.Z,title:"Smart Translator",description:"Translate Arabic phrases and learn local customs instantly",color:"text-orange-500",delay:.2}];return(0,r.jsxs)("div",{ref:o,className:"flex flex-col min-h-screen overflow-x-hidden",children:[(0,r.jsxs)("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-blue-50/30"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-600/5 via-transparent to-transparent"}),(0,r.jsx)("div",{className:"absolute inset-0",children:(0,r.jsx)(l,{src:"https://images.unsplash.com/photo-1552832230-c0197dd311b5?w=1920&h=1080&fit=crop",alt:"Egypt Pyramids",fill:!0,className:"object-cover opacity-20",priority:!0})}),(0,r.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-blue-600/10 rounded-full blur-3xl"}),(0,r.jsx)("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"}),(0,r.jsxs)("div",{className:"relative container mx-auto px-4 text-center max-w-5xl",children:[(0,r.jsxs)(u.E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},className:"space-y-6",children:[(0,r.jsx)(u.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:(0,r.jsxs)(b.C,{className:"px-6 py-2 bg-white/80 backdrop-blur-md text-orange-500 border-orange-200 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"AI-Powered Egypt Explorer"]})}),(0,r.jsxs)("h1",{className:"font-display text-4xl md:text-6xl lg:text-7xl font-bold leading-tight tracking-tight",children:["Discover the ",(0,r.jsx)("span",{className:"text-gradient",children:"Magic of Egypt"}),(0,r.jsx)("br",{}),"with ",(0,r.jsx)("span",{className:"text-gradient",children:"Kemet"})]}),(0,r.jsx)(u.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-lg md:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed font-light",children:"Your intelligent companion for exploring ancient wonders, vibrant culture, and unforgettable experiencesâ€”designed for the modern traveler."}),(0,r.jsxs)(u.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-6",children:[(0,r.jsx)(i.default,{href:"/register",children:(0,r.jsxs)(v.z,{size:"lg",className:"h-14 px-8 text-base bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 rounded-xl",children:["Start Planning ",(0,r.jsx)(p.Z,{className:"ml-2 h-4 w-4"})]})}),(0,r.jsx)(i.default,{href:"/destinations",children:(0,r.jsx)(v.z,{size:"lg",variant:"outline",className:"h-14 px-8 text-base border-2 border-gray-200 hover:border-blue-600 hover:bg-blue-50 transition-all duration-300 rounded-xl",children:"Explore Destinations"})})]})]}),(0,r.jsx)(u.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},className:"mt-16",children:(0,r.jsx)(y.Zb,{className:"bg-white/60 backdrop-blur-xl border border-white/40 shadow-xl rounded-2xl",children:(0,r.jsx)(y.aY,{className:"p-6",children:(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[{label:"Years History",value:"7,000+"},{label:"Active Users",value:"50k+"},{label:"Destinations",value:"100+"},{label:"AI Plans Created",value:"120k+"}].map((e,t)=>(0,r.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9+.1*t},children:[(0,r.jsx)("h3",{className:"text-2xl md:text-3xl font-bold text-orange-500 font-display",children:e.value}),(0,r.jsx)("p",{className:"text-xs md:text-sm text-gray-600 uppercase tracking-wider mt-1 font-medium",children:e.label})]},t))})})})})]})]}),(0,r.jsx)(w.Z,{className:"bg-border/60"}),(0,r.jsxs)("section",{className:"py-24 relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-blue-50/20 to-transparent"}),(0,r.jsxs)("div",{className:"relative container mx-auto px-4",children:[(0,r.jsx)("div",{className:"text-center mb-16",children:(0,r.jsxs)(u.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[(0,r.jsx)("span",{className:"text-orange-500 font-semibold tracking-wider uppercase text-sm mb-4 block",children:"Smart Travel"}),(0,r.jsxs)("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-6 leading-tight",children:["Why Choose ",(0,r.jsx)("span",{className:"text-gradient",children:"Kemet"}),"?"]}),(0,r.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed font-light",children:"Experience Egypt like never before with our cutting-edge tourism ecosystem designed for the modern traveler."})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:k.map((e,t)=>(0,r.jsx)(u.E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.15*t},viewport:{once:!0},className:"group",children:(0,r.jsx)(y.Zb,{className:"h-full border-0 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 bg-white/80 backdrop-blur-sm rounded-2xl overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-500 ".concat(e.color," bg-gradient-to-br from-blue-100 to-orange-100"),children:(0,r.jsx)(e.icon,{className:"h-6 w-6"})}),(0,r.jsx)("h3",{className:"font-bold text-xl mb-3 text-gray-900",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.description})]})})},t))})]})]}),(0,r.jsxs)("section",{className:"py-24 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-blue-50/20"}),(0,r.jsx)("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-blue-600/5 rounded-full blur-3xl"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-[800px] h-[800px] bg-orange-500/5 rounded-full blur-3xl"}),(0,r.jsxs)("div",{className:"relative container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-end mb-16 gap-8",children:[(0,r.jsxs)(u.E.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"max-w-2xl",children:[(0,r.jsx)("span",{className:"text-orange-500 font-semibold tracking-wider uppercase text-sm mb-4 block",children:"Curated Experiences"}),(0,r.jsxs)("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-6 leading-tight",children:["Popular ",(0,r.jsx)("span",{className:"text-gradient",children:"Destinations"})]}),(0,r.jsx)("p",{className:"text-lg text-gray-600 leading-relaxed font-light max-w-xl",children:"Explore Egypt's most iconic and breathtaking locations, hand-picked for the ultimate experience."})]}),(0,r.jsx)(u.E.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:(0,r.jsx)(i.default,{href:"/destinations",children:(0,r.jsxs)(v.z,{size:"lg",variant:"outline",className:"group h-14 px-8 border-2 border-gray-200 hover:border-blue-600 hover:bg-blue-50 transition-all duration-300 rounded-xl",children:["View All Destinations ",(0,r.jsx)(p.Z,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})})]}),t?(0,r.jsx)("div",{className:"flex justify-center items-center h-96",children:(0,r.jsx)(f.Z,{className:"w-12 h-12 animate-spin text-blue-600"})}):0===a.length?(0,r.jsx)("div",{className:"text-center py-16",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"No destinations available yet."})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((e,t)=>(0,r.jsx)(u.E.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:.15*t},viewport:{once:!0},children:(0,r.jsx)(i.default,{href:"/destinations/detail?id=".concat(e.id),children:(0,r.jsxs)("div",{className:"group relative h-[500px] rounded-2xl overflow-hidden cursor-pointer shadow-xl hover:shadow-2xl transition-all duration-500",children:[(0,r.jsx)("div",{className:"absolute inset-0 transition-transform duration-700 group-hover:scale-110",children:e.imageUrl?(0,r.jsx)(n.default,{src:e.imageUrl,alt:e.name||"Destination image",fill:!0,sizes:"100vw",className:"object-cover",priority:!0}):(0,r.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-400",children:"No Image"})})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-80 group-hover:opacity-95 transition-all duration-500"}),(0,r.jsx)("div",{className:"absolute top-4 right-4 z-20",children:(0,r.jsx)(S,{id:e.id})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-8 transform translate-y-4 group-hover:translate-y-0 transition-all duration-500",children:[(0,r.jsx)("h3",{className:"font-display text-2xl font-bold mb-3 text-white",children:e.name}),(0,r.jsx)("p",{className:"text-white/80 mb-4 line-clamp-2 text-base leading-relaxed",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center text-orange-400 font-semibold text-sm uppercase tracking-wider opacity-0 group-hover:opacity-100 transition-all duration-500 delay-200",children:["Explore Now ",(0,r.jsx)(p.Z,{className:"ml-2 w-4 h-4"})]})]})]})})},e.id))})]})]}),(0,r.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-blue-600/90 to-black"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),(0,r.jsx)("div",{className:"absolute inset-0",children:(0,r.jsx)(l,{src:"https://images.unsplash.com/photo-1503177119275-0aa32b3a9368?w=1920&h=1080&fit=crop",alt:"Egypt Desert",fill:!0,className:"object-cover opacity-10"})}),(0,r.jsx)("div",{className:"absolute top-20 left-20 w-32 h-32 bg-orange-500/20 rounded-full blur-2xl animate-pulse"}),(0,r.jsx)("div",{className:"absolute bottom-20 right-20 w-48 h-48 bg-blue-400/20 rounded-full blur-2xl animate-pulse delay-1000"}),(0,r.jsx)("div",{className:"relative container mx-auto px-4 z-10",children:(0,r.jsxs)(u.E.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"max-w-4xl mx-auto text-center",children:[(0,r.jsxs)("h2",{className:"font-display text-3xl md:text-5xl font-bold mb-8 text-white leading-tight",children:["Ready to Write Your",(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"text-gradient",children:"Own History"}),"?"]}),(0,r.jsx)("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed font-light max-w-3xl mx-auto",children:"Join thousands of travelers who have discovered the secrets of Egypt with our intelligent platform. Your adventure begins here."}),(0,r.jsx)(u.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.3},viewport:{once:!0},children:(0,r.jsx)(i.default,{href:"/register",children:(0,r.jsx)(v.z,{size:"lg",className:"h-14 px-10 text-base bg-white text-blue-600 hover:bg-gray-100 hover:scale-105 transition-all duration-300 shadow-xl hover:shadow-2xl rounded-xl font-semibold",children:"Create Your Free Account"})})}),(0,r.jsxs)("div",{className:"mt-12 flex flex-col sm:flex-row items-center justify-center gap-6 text-white/70 text-sm",children:[(0,r.jsxs)(u.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.4},viewport:{once:!0},className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 text-orange-400"}),(0,r.jsx)("span",{children:"Free Plan Available"})]}),(0,r.jsxs)(u.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.5},viewport:{once:!0},className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 text-orange-400"}),(0,r.jsx)("span",{children:"No Credit Card Required"})]}),(0,r.jsxs)(u.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.6},viewport:{once:!0},className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 text-orange-400"}),(0,r.jsx)("span",{children:"24/7 Support"})]})]})]})})]})]})}},35974:function(e,t,a){"use strict";a.d(t,{C:function(){return s}});var r=a(57437),i=a(2265),n=a(94508);let s=i.forwardRef((e,t)=>{let{className:a,variant:i="default",...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input"}[i],a),...s})});s.displayName="Badge"},62869:function(e,t,a){"use strict";a.d(t,{d:function(){return l},z:function(){return d}});var r=a(57437),i=a(2265),n=a(37053),s=a(90535),o=a(94508);let l=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md shadow-primary/15",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input/70 bg-background/70 backdrop-blur hover:bg-accent/70 hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent/70 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"gradient-egyptian text-white hover:opacity-90 shadow-md transition-opacity"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:a,variant:i,size:s,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:i,size:s,className:a})),ref:t,...c})});d.displayName="Button"},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return s},aY:function(){return c},ll:function(){return l}});var r=a(57437),i=a(2265),n=a(94508);let s=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-3xl border border-border/60 bg-card/80 backdrop-blur-sm text-card-foreground shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300",a),...i})});s.displayName="Card";let o=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...i})});o.displayName="CardHeader";let l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});l.displayName="CardTitle";let d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...i})});d.displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...i})});c.displayName="CardContent",i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"},6512:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var r=a(57437),i=a(2265),n=a(55156),s=a(94508);let o=i.forwardRef((e,t)=>{let{className:a,orientation:i="horizontal",decorative:o=!0,...l}=e;return(0,r.jsx)(n.f,{ref:t,decorative:o,orientation:i,className:(0,s.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",a),...l})});o.displayName=n.f.displayName},77992:function(e,t,a){"use strict";a.d(t,{pm:function(){return x}});var r=a(2265);let i=0,n=new Map,s=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?s(a):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function x(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},94508:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(61994),i=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.m6)((0,r.W)(t))}},72218:function(e,t,a){"use strict";a.d(t,{Cd:function(){return d},Dj:function(){return c},K4:function(){return s},av:function(){return x},sT:function(){return o},vJ:function(){return u},vN:function(){return h}});var r=a(39129);let i={user:(e=>{try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return null}})("user"),token:localStorage.getItem("token"),refreshToken:localStorage.getItem("refreshToken"),isAuthenticated:!!localStorage.getItem("token"),isLoading:!1,error:null},n=(0,r.oM)({name:"auth",initialState:i,reducers:{setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},clearError:e=>{e.error=null},logout:e=>{e.user=null,e.token=null,e.refreshToken=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("user")},tokenRefreshed:(e,t)=>{let{token:a,refreshToken:r,expiresIn:i}=t.payload;if(e.token=a,e.refreshToken=r,e.isAuthenticated=!0,localStorage.setItem("token",a),localStorage.setItem("refreshToken",r),i){let e=Date.now()+1e3*i;localStorage.setItem("tokenExpiry",e.toString())}},setCredentials:(e,t)=>{let{user:a,token:r,refreshToken:i,expiresIn:n}=t.payload;if(e.user=a,e.token=r,e.refreshToken=i,e.isAuthenticated=!0,e.error=null,e.isLoading=!1,localStorage.setItem("token",r),localStorage.setItem("refreshToken",i),localStorage.setItem("user",JSON.stringify(a)),n){let e=Date.now()+1e3*n;localStorage.setItem("tokenExpiry",e.toString())}},setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0,localStorage.setItem("user",JSON.stringify(t.payload))}}}),{setLoading:s,setError:o,clearError:l,logout:d,setCredentials:c,tokenRefreshed:u,setUser:x}=n.actions;t.ZP=n.reducer;let h=e=>e.auth.isAuthenticated},38059:function(e,t,a){"use strict";a.d(t,{h:function(){return h}});var r=a(79523),i=a(23557),n=a(72218);let s=e=>{try{return window.localStorage.getItem(e)}catch(e){return null}},o=(e,t)=>{try{window.localStorage.setItem(e,t)}catch(e){}},l=e=>{try{window.localStorage.removeItem(e)}catch(e){}},d=()=>{let e=s("tokenExpiry");return!e||Date.now()>=parseInt(e,10)},c=()=>{let e=s("tokenExpiry");if(!e)return!1;let t=Date.now();return parseInt(e,10)-t<3e5},u=(0,r.ni)({baseUrl:"https://kemeteg.runasp.net/api",prepareHeaders:(e,t)=>{var a,r;let{getState:i}=t,n=(null===(r=i())||void 0===r?void 0:null===(a=r.auth)||void 0===a?void 0:a.token)||s("token");return n&&e.set("authorization","Bearer ".concat(n)),e.set("content-type","application/json"),e}}),x=async(e,t,a)=>{if(c()){console.log("Token expiring soon, refreshing proactively...");let e=s("refreshToken");if(e){let r=await u({url:"/Auth/refresh",method:"POST",body:{refreshToken:e}},t,a);if(r.data){let a=r.data,i=(null==a?void 0:a.data)||a,s=null==i?void 0:i.accessToken,l=null==i?void 0:i.refreshToken,d=(null==i?void 0:i.expiresIn)||3600;s&&(o("token",s),l&&o("refreshToken",l),o("tokenExpiry",(Date.now()+1e3*d).toString()),t.dispatch((0,n.vJ)({token:s,refreshToken:l||e,expiresIn:d})),console.log("Token refreshed successfully"))}}}let r=await u(e,t,a);if(r.error&&401===r.error.status){console.log("Unauthorized (401), attempting to refresh token...");let i=s("refreshToken");if(i&&!d()){let s=await u({url:"/Auth/refresh",method:"POST",body:{refreshToken:i}},t,a);if(s.data){let l=s.data,d=(null==l?void 0:l.data)||l,c=null==d?void 0:d.accessToken,x=null==d?void 0:d.refreshToken,h=(null==d?void 0:d.expiresIn)||3600;c&&(o("token",c),x&&o("refreshToken",x),o("tokenExpiry",(Date.now()+1e3*h).toString()),t.dispatch((0,n.vJ)({token:c,refreshToken:x||i,expiresIn:h})),r=await u(e,t,a),console.log("Token refreshed and request retried"))}else console.log("Token refresh failed, logging out..."),l("token"),l("refreshToken"),l("tokenExpiry"),t.dispatch((0,n.Cd)()),window.location.href="/login"}else console.log("No valid refresh token, logging out..."),l("token"),l("refreshToken"),l("tokenExpiry"),t.dispatch((0,n.Cd)()),window.location.href="/login"}return r},h=(0,i.LC)({reducerPath:"api",baseQuery:x,tagTypes:["User","Auth","TravelPlan","Destination","Analytics","Booking","Review","Preference","Notification","Favorites"],endpoints:()=>({})})},37775:function(e,t,a){"use strict";a.d(t,{Fm:function(){return o},R5:function(){return r},XB:function(){return d},X_:function(){return c},aZ:function(){return s},t$:function(){return i},ul:function(){return l},y0:function(){return n}});let{useGetDestinationsQuery:r,useGetDestinationQuery:i,useCreateDestinationMutation:n,useUpdateDestinationMutation:s,useDeleteDestinationMutation:o,useAddFavoriteMutation:l,useRemoveFavoriteMutation:d,useGetFavoritesQuery:c}=a(38059).h.injectEndpoints({endpoints:e=>({getDestinations:e.query({query:()=>"/Destinations",providesTags:["Destination"]}),getDestination:e.query({query:e=>"/Destinations/".concat(e),providesTags:(e,t,a)=>[{type:"Destination",id:a}]}),createDestination:e.mutation({query:e=>({url:"/Destinations",method:"POST",body:e}),invalidatesTags:["Destination"]}),updateDestination:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/Destinations/".concat(t),method:"PUT",body:a}},invalidatesTags:(e,t,a)=>{let{id:r}=a;return[{type:"Destination",id:r},"Destination"]}}),deleteDestination:e.mutation({query:e=>({url:"/Destinations/".concat(e),method:"DELETE"}),invalidatesTags:["Destination"]}),addFavorite:e.mutation({query:e=>({url:"/Destinations/".concat(e,"/favorite"),method:"POST"}),invalidatesTags:(e,t,a)=>[{type:"Destination",id:a},"Favorites"]}),removeFavorite:e.mutation({query:e=>({url:"/Destinations/".concat(e,"/favorite"),method:"DELETE"}),invalidatesTags:(e,t,a)=>[{type:"Destination",id:a},"Favorites"]}),getFavorites:e.query({query:()=>"/Destinations/favorites",providesTags:["Favorites"]})})})},37610:function(e,t,a){"use strict";a.d(t,{CG:function(){return n},TL:function(){return i}});var r=a(68575);let i=()=>(0,r.I0)(),n=r.v9}},function(e){e.O(0,[6137,7210,5650,3557,3145,6383,2971,2117,1744],function(){return e(e.s=4776)}),_N_E=e.O()}]);