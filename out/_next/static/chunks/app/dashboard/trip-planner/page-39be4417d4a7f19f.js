(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2145],{88676:function(e,t,a){Promise.resolve().then(a.bind(a,94819))},94819:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G}});var r=a(57437),n=a(2265),i=a(79405),l=a(62869),s=a(66070),o=a(73966),d=a(66840),c="Progress",[u,p]=(0,o.b)(c),[m,h]=u(c),g=n.forwardRef((e,t)=>{var a,n,i,l;let{__scopeProgress:s,value:o=null,max:c,getValueLabel:u=f,...p}=e;(c||0===c)&&!k(c)&&console.error((a="".concat(c),n="Progress","Invalid prop `max` of value `".concat(a,"` supplied to `").concat(n,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let h=k(c)?c:100;null===o||N(o,h)||console.error((i="".concat(o),l="Progress","Invalid prop `value` of value `".concat(i,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let g=N(o,h)?o:null,y=b(g)?u(g,h):void 0;return(0,r.jsx)(m,{scope:s,value:g,max:h,children:(0,r.jsx)(d.WV.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":b(g)?g:void 0,"aria-valuetext":y,role:"progressbar","data-state":x(g,h),"data-value":null!=g?g:void 0,"data-max":h,...p,ref:t})})});g.displayName=c;var y="ProgressIndicator",v=n.forwardRef((e,t)=>{var a;let{__scopeProgress:n,...i}=e,l=h(y,n);return(0,r.jsx)(d.WV.div,{"data-state":x(l.value,l.max),"data-value":null!==(a=l.value)&&void 0!==a?a:void 0,"data-max":l.max,...i,ref:t})});function f(e,t){return"".concat(Math.round(e/t*100),"%")}function x(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function b(e){return"number"==typeof e}function k(e){return b(e)&&!isNaN(e)&&e>0}function N(e,t){return b(e)&&!isNaN(e)&&e<=t&&e>=0}v.displayName=y;var j=a(94508);let w=n.forwardRef((e,t)=>{let{className:a,value:n,...i}=e;return(0,r.jsx)(g,{ref:t,className:(0,j.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...i,children:(0,r.jsx)(v,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});w.displayName=g.displayName;var T=a(27648),P=a(95805),S=a(88997),C=a(31047),Z=a(95252),M=a(39763);let I=(0,M.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),A=(0,M.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var E=a(83774);let q=(0,M.Z)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),R=(0,M.Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),D=(0,M.Z)("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]),L=(0,M.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),H=(0,M.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),O=(0,M.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var z=a(99376),F=a(86726);let V=[{id:"solo",label:"Solo Adventure",icon:P.Z,description:"Perfect for self-discovery and flexibility"},{id:"couple",label:"Romantic Getaway",icon:S.Z,description:"Ideal for couples seeking memorable experiences"},{id:"family",label:"Family Trip",icon:P.Z,description:"Kid-friendly activities for all ages"},{id:"friends",label:"Friends Group",icon:P.Z,description:"Exciting experiences for friend groups"}],_=[{id:"1",label:"Just Me",description:"Solo traveler"},{id:"2",label:"Couple",description:"2 people"},{id:"3-4",label:"Small Group",description:"3-4 people"},{id:"5+",label:"Large Group",description:"5+ people"}],Y=[{id:"3-5",label:"Quick Getaway",description:"3-5 days",icon:C.Z},{id:"7-10",label:"Week Adventure",description:"7-10 days",icon:C.Z},{id:"14+",label:"Extended Journey",description:"14+ days",icon:C.Z}],B=[{id:"budget",label:"Budget-Friendly",description:"$50-100/day",icon:Z.Z},{id:"mid",label:"Comfortable",description:"$100-200/day",icon:Z.Z},{id:"luxury",label:"Luxury Experience",description:"$200+/day",icon:I}],J=[{id:"history",label:"Ancient History",icon:A},{id:"adventure",label:"Adventure",icon:E.Z},{id:"culture",label:"Local Culture",icon:S.Z},{id:"food",label:"Egyptian Cuisine",icon:q},{id:"shopping",label:"Shopping",icon:R},{id:"relaxation",label:"Relaxation",icon:D}],W=[{id:"budget",label:"Budget Hotels",description:"Clean, basic accommodations"},{id:"mid",label:"Mid-Range Hotels",description:"Comfortable with amenities"},{id:"luxury",label:"Luxury Resorts",description:"Premium experiences"},{id:"local",label:"Local Guesthouses",description:"Authentic local experience"}],$=[{id:"public",label:"Public Transport",description:"Buses, trains, local experience"},{id:"private",label:"Private Car",description:"Comfortable and flexible"},{id:"mixed",label:"Mixed Transport",description:"Combination of options"}],U=[{id:"relaxed",label:"Relaxed Pace",description:"2-3 activities per day"},{id:"moderate",label:"Moderate Pace",description:"3-4 activities per day"},{id:"packed",label:"Action-Packed",description:"5+ activities per day"}];function G(){let e=(0,z.useRouter)(),{createTravelPlan:t}=(0,F.H)(),[a,o]=(0,n.useState)(0),[d,c]=(0,n.useState)({tripType:"",groupSize:"",duration:"",budget:"",interests:[],accommodation:"",transportation:"",pace:"",name:""}),u=[{title:"Trip Type",description:"What kind of traveler are you?"},{title:"Group Size",description:"How many people are traveling?"},{title:"Duration",description:"How long is your trip?"},{title:"Budget",description:"What's your daily budget?"},{title:"Interests",description:"What interests you most?"},{title:"Accommodation",description:"Where would you like to stay?"},{title:"Transportation",description:"How do you prefer to travel?"},{title:"Trip Pace",description:"What's your preferred pace?"}],p=e=>{c(t=>({...t,interests:t.interests.includes(e)?t.interests.filter(t=>t!==e):[...t.interests,e]}))},m=async()=>{let a="".concat(d.tripType.charAt(0).toUpperCase()+d.tripType.slice(1)," Egypt Adventure"),r=new Date,n=parseInt(d.duration.split("-")[0])||7,i=new Date;i.setDate(r.getDate()+n),t({name:a,startDate:r.toISOString(),endDate:i.toISOString(),status:"draft",preferences:d,days:Array.from({length:n},(e,t)=>({dayNumber:t+1,date:new Date(r.getTime()+864e5*t).toISOString(),activities:[{id:"activity-".concat(t,"-1"),destinationId:"cairo-city-center",activityId:"activity-".concat(t,"-1"),startTime:"09:00",endTime:"10:00",notes:0===t?"Arrival & Check-in":"Breakfast at Hotel"},{id:"activity-".concat(t,"-2"),destinationId:"cairo-historical-sites",activityId:"activity-".concat(t,"-2"),startTime:"14:00",endTime:"16:00",notes:0===t?"Explore Local Area":"Visit Historical Sites"}]}))}),e.push("/dashboard/travel-plan")},h=()=>{switch(a){case 0:return""!==d.tripType;case 1:return""!==d.groupSize;case 2:return""!==d.duration;case 3:return""!==d.budget;case 4:return d.interests.length>0;case 5:return""!==d.accommodation;case 6:return""!==d.transportation;case 7:return""!==d.pace;default:return!1}};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto pb-12",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(T.default,{href:"/dashboard",className:"text-sm text-gray-500 hover:text-gray-900 flex items-center mb-4",children:[(0,r.jsx)(H,{className:"w-4 h-4 mr-1"})," Back to Dashboard"]}),(0,r.jsx)("h1",{className:"font-display text-4xl font-bold text-gray-900 mb-2",children:"Plan Your Egypt Adventure"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Answer a few questions to create your personalized itinerary"})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Step ",a+1," of ",8]}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:u[a].title})]}),(0,r.jsx)(w,{value:(a+1)/8*100,className:"h-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:u[a].description})]}),(0,r.jsx)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,r.jsxs)(s.Zb,{className:"mb-8",children:[(0,r.jsx)(s.Ol,{children:(0,r.jsx)(s.ll,{className:"text-xl text-gray-900",children:u[a].title})}),(0,r.jsx)(s.aY,{children:(()=>{switch(a){case 0:return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:V.map(e=>{let t=e.icon;return(0,r.jsx)(s.Zb,{className:"cursor-pointer transition-all hover:shadow-lg ".concat(d.tripType===e.id?"ring-2 ring-gray-800 bg-gray-50":"hover:bg-gray-50"),onClick:()=>c(t=>({...t,tripType:e.id})),children:(0,r.jsx)(s.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(t,{className:"w-6 h-6 text-gray-700"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),d.tripType===e.id&&(0,r.jsx)(L,{className:"w-5 h-5 text-gray-800"})]})})},e.id)})});case 1:return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(e=>(0,r.jsx)(s.Zb,{className:"cursor-pointer transition-all hover:shadow-lg ".concat(d.groupSize===e.id?"ring-2 ring-gray-800 bg-gray-50":"hover:bg-gray-50"),onClick:()=>c(t=>({...t,groupSize:e.id})),children:(0,r.jsx)(s.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),d.groupSize===e.id&&(0,r.jsx)(L,{className:"w-5 h-5 text-gray-800"})]})})},e.id))});case 2:return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Y.map(e=>{let t=e.icon;return(0,r.jsx)(s.Zb,{className:"cursor-pointer transition-all hover:shadow-lg ".concat(d.duration===e.id?"ring-2 ring-gray-800 bg-gray-50":"hover:bg-gray-50"),onClick:()=>c(t=>({...t,duration:e.id})),children:(0,r.jsxs)(s.aY,{className:"p-6 text-center",children:[(0,r.jsx)(t,{className:"w-8 h-8 text-gray-700 mx-auto mb-3"}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),d.duration===e.id&&(0,r.jsx)(L,{className:"w-5 h-5 text-gray-800 mx-auto mt-2"})]})},e.id)})});case 3:return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:B.map(e=>{let t=e.icon;return(0,r.jsx)(s.Zb,{className:"cursor-pointer transition-all hover:shadow-lg ".concat(d.budget===e.id?"ring-2 ring-gray-800 bg-gray-50":"hover:bg-gray-50"),onClick:()=>c(t=>({...t,budget:e.id})),children:(0,r.jsxs)(s.aY,{className:"p-6 text-center",children:[(0,r.jsx)(t,{className:"w-8 h-8 text-gray-700 mx-auto mb-3"}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),d.budget===e.id&&(0,r.jsx)(L,{className:"w-5 h-5 text-gray-800 mx-auto mt-2"})]})},e.id)})});case 4:return(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:J.map(e=>{let t=e.icon,a=d.interests.includes(e.id);return(0,r.jsx)(s.Zb,{className:"cursor-pointer transition-all hover:shadow-lg ".concat(a?"ring-2 ring-gray-800 bg-gray-50":"hover:bg-gray-50"),onClick:()=>p(e.id),children:(0,r.jsxs)(s.aY,{className:"p-4 text-center",children:[(0,r.jsx)(t,{className:"w-6 h-6 text-gray-700 mx-auto mb-2"}),(0,r.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:e.label}),a&&(0,r.jsx)(L,{className:"w-4 h-4 text-gray-800 mx-auto mt-2"})]})},e.id)})});case 5:return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:W.map(e=>(0,r.jsx)(s.Zb,{className:"cursor-pointer transition-all hover:shadow-lg ".concat(d.accommodation===e.id?"ring-2 ring-gray-800 bg-gray-50":"hover:bg-gray-50"),onClick:()=>c(t=>({...t,accommodation:e.id})),children:(0,r.jsx)(s.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),d.accommodation===e.id&&(0,r.jsx)(L,{className:"w-5 h-5 text-gray-800"})]})})},e.id))});case 6:return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$.map(e=>(0,r.jsx)(s.Zb,{className:"cursor-pointer transition-all hover:shadow-lg ".concat(d.transportation===e.id?"ring-2 ring-gray-800 bg-gray-50":"hover:bg-gray-50"),onClick:()=>c(t=>({...t,transportation:e.id})),children:(0,r.jsx)(s.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),d.transportation===e.id&&(0,r.jsx)(L,{className:"w-5 h-5 text-gray-800"})]})})},e.id))});case 7:return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:U.map(e=>(0,r.jsx)(s.Zb,{className:"cursor-pointer transition-all hover:shadow-lg ".concat(d.pace===e.id?"ring-2 ring-gray-800 bg-gray-50":"hover:bg-gray-50"),onClick:()=>c(t=>({...t,pace:e.id})),children:(0,r.jsx)(s.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),d.pace===e.id&&(0,r.jsx)(L,{className:"w-5 h-5 text-gray-800"})]})})},e.id))});default:return null}})()})]})},a),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)(l.z,{variant:"outline",onClick:()=>{a>0&&o(a-1)},disabled:0===a,className:"flex items-center gap-2",children:[(0,r.jsx)(H,{className:"w-4 h-4"}),"Previous"]}),7===a?(0,r.jsxs)(l.z,{onClick:m,disabled:!h(),className:"bg-gray-800 hover:bg-gray-900 text-white flex items-center gap-2",children:["Create My Trip",(0,r.jsx)(L,{className:"w-4 h-4"})]}):(0,r.jsxs)(l.z,{onClick:()=>{a<7&&o(a+1)},disabled:!h(),className:"bg-gray-800 hover:bg-gray-900 text-white flex items-center gap-2",children:["Next",(0,r.jsx)(O,{className:"w-4 h-4"})]})]})]})}},62869:function(e,t,a){"use strict";a.d(t,{d:function(){return o},z:function(){return d}});var r=a(57437),n=a(2265),i=a(37053),l=a(90535),s=a(94508);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md shadow-primary/15",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input/70 bg-background/70 backdrop-blur hover:bg-accent/70 hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent/70 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"gradient-egyptian text-white hover:opacity-90 shadow-md transition-opacity"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:l,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,r.jsx)(u,{className:(0,s.cn)(o({variant:n,size:l,className:a})),ref:t,...c})});d.displayName="Button"},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var r=a(57437),n=a(2265),i=a(94508);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-3xl border border-border/60 bg-card/80 backdrop-blur-sm text-card-foreground shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300",a),...n})});l.displayName="Card";let s=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...n})});s.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},86726:function(e,t,a){"use strict";a.d(t,{TravelPlanProvider:function(){return o},H:function(){return d}});var r=a(57437),n=a(2265);let i=[{id:"tp1",userId:"1",name:"Cairo Adventure",destination:"Cairo",startDate:"2024-05-01",endDate:"2024-05-07",budget:2e3,preferences:{interests:["History","Food"],pace:"moderate",accommodation:"hotel",transportation:"private"},days:[],status:"draft",createdAt:"2024-04-01T10:00:00Z",updatedAt:"2024-04-01T10:00:00Z"}];var l=a(10543);let s=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(i[0]||null),[u,{isLoading:p}]=(0,l.JV)(),m=async e=>{try{let t=await u(e).unwrap();c(t),console.log("Travel plan created:",t)}catch(e){console.error("Failed to create travel plan:",e)}};return(0,r.jsx)(s.Provider,{value:{travelPlan:d,preferences:a,setPreferences:e=>{o(e),console.log("Preferences saved:",e)},updateTravelPlan:e=>{c(e),console.log("Travel plan updated:",e)},createTravelPlan:m},children:t})}function d(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useTravelPlanContext must be used within a TravelPlanProvider");return e}},94508:function(e,t,a){"use strict";a.d(t,{cn:function(){return i}});var r=a(61994),n=a(53335);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},95252:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},88997:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},83774:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},95805:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},99376:function(e,t,a){"use strict";var r=a(35475);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},72218:function(e,t,a){"use strict";a.d(t,{Cd:function(){return d},Dj:function(){return c},K4:function(){return l},av:function(){return p},sT:function(){return s},vJ:function(){return u},vN:function(){return m}});var r=a(39129);let n={user:(e=>{try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return null}})("user"),token:localStorage.getItem("token"),refreshToken:localStorage.getItem("refreshToken"),isAuthenticated:!!localStorage.getItem("token"),isLoading:!1,error:null},i=(0,r.oM)({name:"auth",initialState:n,reducers:{setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},clearError:e=>{e.error=null},logout:e=>{e.user=null,e.token=null,e.refreshToken=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("user")},tokenRefreshed:(e,t)=>{let{token:a,refreshToken:r,expiresIn:n}=t.payload;if(e.token=a,e.refreshToken=r,e.isAuthenticated=!0,localStorage.setItem("token",a),localStorage.setItem("refreshToken",r),n){let e=Date.now()+1e3*n;localStorage.setItem("tokenExpiry",e.toString())}},setCredentials:(e,t)=>{let{user:a,token:r,refreshToken:n,expiresIn:i}=t.payload;if(e.user=a,e.token=r,e.refreshToken=n,e.isAuthenticated=!0,e.error=null,e.isLoading=!1,localStorage.setItem("token",r),localStorage.setItem("refreshToken",n),localStorage.setItem("user",JSON.stringify(a)),i){let e=Date.now()+1e3*i;localStorage.setItem("tokenExpiry",e.toString())}},setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0,localStorage.setItem("user",JSON.stringify(t.payload))}}}),{setLoading:l,setError:s,clearError:o,logout:d,setCredentials:c,tokenRefreshed:u,setUser:p}=i.actions;t.ZP=i.reducer;let m=e=>e.auth.isAuthenticated},38059:function(e,t,a){"use strict";a.d(t,{h:function(){return m}});var r=a(79523),n=a(23557),i=a(72218);let l=e=>{try{return window.localStorage.getItem(e)}catch(e){return null}},s=(e,t)=>{try{window.localStorage.setItem(e,t)}catch(e){}},o=e=>{try{window.localStorage.removeItem(e)}catch(e){}},d=()=>{let e=l("tokenExpiry");return!e||Date.now()>=parseInt(e,10)},c=()=>{let e=l("tokenExpiry");if(!e)return!1;let t=Date.now();return parseInt(e,10)-t<3e5},u=(0,r.ni)({baseUrl:"https://kemeteg.runasp.net/api",prepareHeaders:(e,t)=>{var a,r;let{getState:n}=t,i=(null===(r=n())||void 0===r?void 0:null===(a=r.auth)||void 0===a?void 0:a.token)||l("token");return i&&e.set("authorization","Bearer ".concat(i)),e.set("content-type","application/json"),e}}),p=async(e,t,a)=>{if(c()){console.log("Token expiring soon, refreshing proactively...");let e=l("refreshToken");if(e){let r=await u({url:"/Auth/refresh",method:"POST",body:{refreshToken:e}},t,a);if(r.data){let a=r.data,n=(null==a?void 0:a.data)||a,l=null==n?void 0:n.accessToken,o=null==n?void 0:n.refreshToken,d=(null==n?void 0:n.expiresIn)||3600;l&&(s("token",l),o&&s("refreshToken",o),s("tokenExpiry",(Date.now()+1e3*d).toString()),t.dispatch((0,i.vJ)({token:l,refreshToken:o||e,expiresIn:d})),console.log("Token refreshed successfully"))}}}let r=await u(e,t,a);if(r.error&&401===r.error.status){console.log("Unauthorized (401), attempting to refresh token...");let n=l("refreshToken");if(n&&!d()){let l=await u({url:"/Auth/refresh",method:"POST",body:{refreshToken:n}},t,a);if(l.data){let o=l.data,d=(null==o?void 0:o.data)||o,c=null==d?void 0:d.accessToken,p=null==d?void 0:d.refreshToken,m=(null==d?void 0:d.expiresIn)||3600;c&&(s("token",c),p&&s("refreshToken",p),s("tokenExpiry",(Date.now()+1e3*m).toString()),t.dispatch((0,i.vJ)({token:c,refreshToken:p||n,expiresIn:m})),r=await u(e,t,a),console.log("Token refreshed and request retried"))}else console.log("Token refresh failed, logging out..."),o("token"),o("refreshToken"),o("tokenExpiry"),t.dispatch((0,i.Cd)()),window.location.href="/login"}else console.log("No valid refresh token, logging out..."),o("token"),o("refreshToken"),o("tokenExpiry"),t.dispatch((0,i.Cd)()),window.location.href="/login"}return r},m=(0,n.LC)({reducerPath:"api",baseQuery:p,tagTypes:["User","Auth","TravelPlan","Destination","Analytics","Booking","Review","Preference","Notification","Favorites"],endpoints:()=>({})})},10543:function(e,t,a){"use strict";a.d(t,{JV:function(){return o}});var r=a(38059),n=a(39129);let i=r.h.injectEndpoints({endpoints:e=>({getTravelPlans:e.query({query:()=>"/travel-plans",providesTags:["TravelPlan"]}),getTravelPlan:e.query({query:e=>"/travel-plans/".concat(e),providesTags:(e,t,a)=>[{type:"TravelPlan",id:a}]}),createTravelPlan:e.mutation({query:e=>({url:"/travel-plans",method:"POST",body:e}),invalidatesTags:["TravelPlan"]}),updateTravelPlan:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/travel-plans/".concat(t),method:"PUT",body:a}},invalidatesTags:(e,t,a)=>{let{id:r}=a;return[{type:"TravelPlan",id:r}]}}),deleteTravelPlan:e.mutation({query:e=>({url:"/travel-plans/".concat(e),method:"DELETE"}),invalidatesTags:["TravelPlan"]}),addActivity:e.mutation({query:e=>{let{planId:t,dayId:a,activity:r}=e;return{url:"/travel-plans/".concat(t,"/days/").concat(a,"/activities"),method:"POST",body:r}},invalidatesTags:(e,t,a)=>{let{planId:r}=a;return[{type:"TravelPlan",id:r}]}}),updateActivity:e.mutation({query:e=>{let{planId:t,dayId:a,activityId:r,data:n}=e;return{url:"/travel-plans/".concat(t,"/days/").concat(a,"/activities/").concat(r),method:"PUT",body:n}},invalidatesTags:(e,t,a)=>{let{planId:r}=a;return[{type:"TravelPlan",id:r}]}}),deleteActivity:e.mutation({query:e=>{let{planId:t,dayId:a,activityId:r}=e;return{url:"/travel-plans/".concat(t,"/days/").concat(a,"/activities/").concat(r),method:"DELETE"}},invalidatesTags:(e,t,a)=>{let{planId:r}=a;return[{type:"TravelPlan",id:r}]}}),generateTravelPlan:e.mutation({query:e=>({url:"/travel-plans/generate",method:"POST",body:e}),invalidatesTags:["TravelPlan"]}),getTravelSuggestions:e.query({query:e=>{let{preferences:t}=e;return{url:"/travel-plans/suggestions",method:"POST",body:t}}}),exportTravelPlan:e.mutation({query:e=>{let{id:t,format:a}=e;return{url:"/travel-plans/".concat(t,"/export?format=").concat(a),method:"GET",responseHandler:e=>e.blob()}}}),shareTravelPlan:e.mutation({query:e=>{let{id:t,permissions:a}=e;return{url:"/travel-plans/".concat(t,"/share"),method:"POST",body:{permissions:a}}}}),duplicateTravelPlan:e.mutation({query:e=>({url:"/travel-plans/".concat(e,"/duplicate"),method:"POST"}),invalidatesTags:["TravelPlan"]})})}),{useGetTravelPlansQuery:l,useGetTravelPlanQuery:s,useCreateTravelPlanMutation:o,useUpdateTravelPlanMutation:d,useDeleteTravelPlanMutation:c,useAddActivityMutation:u,useUpdateActivityMutation:p,useDeleteActivityMutation:m,useGenerateTravelPlanMutation:h,useGetTravelSuggestionsQuery:g,useExportTravelPlanMutation:y,useShareTravelPlanMutation:v,useDuplicateTravelPlanMutation:f}=i,x=(0,n.oM)({name:"travelPlan",initialState:{plans:[],currentPlan:null,isLoading:!1,error:null},reducers:{setCurrentPlan:(e,t)=>{e.currentPlan=t.payload},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},clearError:e=>{e.error=null},addPlan:(e,t)=>{e.plans.push(t.payload)},updatePlan:(e,t)=>{var a;let r=e.plans.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.plans[r]=t.payload),(null===(a=e.currentPlan)||void 0===a?void 0:a.id)===t.payload.id&&(e.currentPlan=t.payload)},removePlan:(e,t)=>{var a;e.plans=e.plans.filter(e=>e.id!==t.payload),(null===(a=e.currentPlan)||void 0===a?void 0:a.id)===t.payload&&(e.currentPlan=null)}},extraReducers:e=>{e.addMatcher(i.endpoints.getTravelPlans.matchPending,e=>{e.isLoading=!0,e.error=null}).addMatcher(i.endpoints.getTravelPlans.matchFulfilled,(e,t)=>{e.isLoading=!1,e.plans=t.payload}).addMatcher(i.endpoints.getTravelPlans.matchRejected,(e,t)=>{var a;e.isLoading=!1,e.error=(null===(a=t.error)||void 0===a?void 0:a.message)||"Failed to fetch travel plans"}).addMatcher(i.endpoints.getTravelPlan.matchFulfilled,(e,t)=>{e.currentPlan=t.payload}).addMatcher(i.endpoints.createTravelPlan.matchFulfilled,(e,t)=>{e.plans.push(t.payload),e.currentPlan=t.payload}).addMatcher(i.endpoints.updateTravelPlan.matchFulfilled,(e,t)=>{x.caseReducers.updatePlan(e,t)}).addMatcher(i.endpoints.deleteTravelPlan.matchFulfilled,(e,t)=>{var a;let r=t.meta.arg.originalArgs;e.plans=e.plans.filter(e=>e.id!==r),(null===(a=e.currentPlan)||void 0===a?void 0:a.id)===r&&(e.currentPlan=null)})}}),{setCurrentPlan:b,setLoading:k,setError:N,clearError:j,addPlan:w,updatePlan:T,removePlan:P}=x.actions;t.ZP=x.reducer},73966:function(e,t,a){"use strict";a.d(t,{b:function(){return i}});var r=a(2265),n=a(57437);function i(e,t=[]){let a=[],i=()=>{let t=a.map(e=>r.createContext(e));return function(a){let n=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:n}}),[a,n])}};return i.scopeName=e,[function(t,i){let l=r.createContext(i);l.displayName=t+"Context";let s=a.length;a=[...a,i];let o=t=>{let{scope:a,children:i,...o}=t,d=a?.[e]?.[s]||l,c=r.useMemo(()=>o,Object.values(o));return(0,n.jsx)(d.Provider,{value:c,children:i})};return o.displayName=t+"Provider",[o,function(a,n){let o=n?.[e]?.[s]||l,d=r.useContext(o);if(d)return d;if(void 0!==i)return i;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=a.reduce((t,{useScope:a,scopeName:r})=>{let n=a(e)[`__scope${r}`];return{...t,...n}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return a.scopeName=t.scopeName,a}(i,...t)]}},66840:function(e,t,a){"use strict";a.d(t,{WV:function(){return l}});var r=a(2265);a(54887);var n=a(37053),i=a(57437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,n.Z8)(`Primitive.${t}`),l=r.forwardRef((e,r)=>{let{asChild:n,...l}=e,s=n?a:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s,{...l,ref:r})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{})}},function(e){e.O(0,[6137,7210,5650,3557,2971,2117,1744],function(){return e(e.s=88676)}),_N_E=e.O()}]);