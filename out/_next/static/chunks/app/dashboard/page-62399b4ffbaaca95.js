(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{10789:function(e,t,a){Promise.resolve().then(a.bind(a,32657))},32657:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var r=a(57437),n=a(2265),s=a(79405),l=a(27648),i=a(33145),o=a(52048),d=a(53417),c=a(77945),u=a(88997);let h=(0,a(39763).Z)("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);var m=a(31047),x=a(91723),p=a(82023),g=a(76858),f=a(15863),v=a(83774),y=a(66070),b=a(62869),j=a(46281),w=a(86726),N=a(37775);function T(){var e;let{user:t}=(0,j.a)(),{travelPlan:a}=(0,w.H)(),{data:T=[],isLoading:P}=(0,N.X_)(),[k,Z]=(0,n.useState)("Hello"),[D,E]=(0,n.useState)(!1);(0,n.useEffect)(()=>{E(!0);let e=new Date().getHours();e<12?Z("Good Morning"):e<18?Z("Good Afternoon"):Z("Good Evening")},[]);let S=[{title:"Travel Planner",description:"Create your itinerary",icon:o.Z,href:"/dashboard/trip-planner",gradient:"from-blue-500 to-cyan-500",iconBg:"bg-gradient-to-br from-blue-500 to-cyan-500"},{title:"AI Assistant",description:"Get instant help",icon:d.Z,href:"/dashboard/chatbot",gradient:"from-purple-500 to-pink-500",iconBg:"bg-gradient-to-br from-purple-500 to-pink-500"},{title:"Translator",description:"Translate phrases",icon:c.Z,href:"/dashboard/translator",gradient:"from-orange-500 to-red-500",iconBg:"bg-gradient-to-br from-orange-500 to-red-500"},{title:"My Favorites",description:"Saved destinations",icon:u.Z,href:"/dashboard/favorites",gradient:"from-red-500 to-orange-500",iconBg:"bg-gradient-to-br from-red-500 to-orange-500"}],q={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30",children:(0,r.jsxs)(s.E.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,r.jsxs)(s.E.div,{variants:q,className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"font-display text-4xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent mb-2",children:D?"".concat(k,", ").concat(null==t?void 0:null===(e=t.name)||void 0===e?void 0:e.split(" ")[0]," \uD83D\uDC4B"):"Welcome"}),(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"Ready to explore Egypt's wonders?"})]}),(0,r.jsx)(l.default,{href:"/dashboard/trip-planner",children:(0,r.jsxs)(b.z,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-300 h-12 px-6 rounded-xl group",children:[(0,r.jsx)(h,{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform"}),"Plan New Trip"]})})]}),(0,r.jsx)(s.E.div,{variants:q,children:a?(0,r.jsx)(y.Zb,{className:"border-none shadow-xl overflow-hidden bg-gradient-to-br from-blue-600 via-blue-700 to-purple-700 text-white",children:(0,r.jsx)(y.aY,{className:"p-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-blue-100 mb-3",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"Active Trip"})]}),(0,r.jsx)("h2",{className:"font-display text-3xl font-bold mb-6",children:a.name}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm px-5 py-4 rounded-xl border border-white/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-blue-100 mb-2",children:[(0,r.jsx)(m.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-xs font-medium uppercase",children:"Dates"})]}),(0,r.jsxs)("p",{className:"font-semibold text-lg",children:[new Date(a.startDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})," - ",new Date(a.endDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm px-5 py-4 rounded-xl border border-white/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-blue-100 mb-2",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-xs font-medium uppercase",children:"Duration"})]}),(0,r.jsxs)("p",{className:"font-semibold text-lg",children:[a.days.length," Days"]})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm px-5 py-4 rounded-xl border border-white/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-blue-100 mb-2",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-xs font-medium uppercase",children:"Status"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),(0,r.jsx)("span",{className:"font-semibold text-lg capitalize",children:a.status})]})]})]})]}),(0,r.jsx)(l.default,{href:"/dashboard/travel-plan",children:(0,r.jsxs)(b.z,{size:"lg",className:"bg-white text-blue-700 hover:bg-gray-50 border-none shadow-xl h-14 px-8 rounded-xl font-semibold group",children:["View Itinerary",(0,r.jsx)(g.Z,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})})}):(0,r.jsx)(y.Zb,{className:"border-2 border-dashed border-gray-300 bg-white/50 backdrop-blur-sm hover:border-blue-400 hover:bg-white/80 transition-all duration-300",children:(0,r.jsxs)(y.aY,{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl flex items-center justify-center mb-6",children:(0,r.jsx)(o.Z,{className:"w-10 h-10 text-blue-600"})}),(0,r.jsx)("h3",{className:"font-bold text-2xl mb-3 text-gray-900",children:"No Active Trip"}),(0,r.jsx)("p",{className:"text-gray-600 max-w-md mb-8 text-lg",children:"Start planning your dream Egyptian adventure and create unforgettable memories"}),(0,r.jsx)(l.default,{href:"/dashboard/trip-planner",children:(0,r.jsxs)(b.z,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-12 px-8 rounded-xl shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-300 group",children:[(0,r.jsx)(p.Z,{className:"w-5 h-5 mr-2"}),"Create Your Plan",(0,r.jsx)(g.Z,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})})}),(0,r.jsxs)(s.E.div,{variants:q,children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-600 to-purple-600 rounded-full"}),(0,r.jsx)("h2",{className:"font-display text-2xl font-bold text-gray-900",children:"Quick Actions"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map((e,t)=>(0,r.jsx)(l.default,{href:e.href,children:(0,r.jsx)(s.E.div,{whileHover:{y:-8,scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:300},className:"h-full",children:(0,r.jsx)(y.Zb,{className:"h-full border-none shadow-lg hover:shadow-2xl transition-all duration-300 bg-white/80 backdrop-blur-sm overflow-hidden group",children:(0,r.jsxs)(y.aY,{className:"p-6",children:[(0,r.jsx)("div",{className:"w-14 h-14 rounded-2xl ".concat(e.iconBg," flex items-center justify-center mb-5 shadow-lg group-hover:scale-110 transition-transform duration-300"),children:(0,r.jsx)(e.icon,{className:"w-7 h-7 text-white"})}),(0,r.jsx)("h3",{className:"font-bold text-xl mb-2 text-gray-900",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center text-blue-600 font-semibold group-hover:gap-2 transition-all",children:["Get Started",(0,r.jsx)(g.Z,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})})})},t))})]}),(0,r.jsxs)(s.E.div,{variants:q,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-1 h-8 bg-gradient-to-b from-red-500 to-orange-500 rounded-full"}),(0,r.jsx)("h2",{className:"font-display text-2xl font-bold text-gray-900",children:"Saved Destinations"})]}),(0,r.jsxs)(l.default,{href:"/dashboard/favorites",className:"text-blue-600 hover:text-blue-700 text-sm font-semibold flex items-center gap-1",children:["View All ",(0,r.jsx)(g.Z,{className:"w-4 h-4"})]})]}),P?(0,r.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,r.jsx)(f.Z,{className:"w-8 h-8 animate-spin text-blue-600"})}):T.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:T.slice(0,4).map(e=>(0,r.jsx)(l.default,{href:"/destinations/detail?id=".concat(e.id),children:(0,r.jsxs)(s.E.div,{whileHover:{y:-5},className:"group relative aspect-[4/5] rounded-2xl overflow-hidden shadow-lg",children:[(0,r.jsx)(i.default,{src:e.imageUrl,alt:e.name,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-110"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 text-white/80 text-xs mb-1",children:[(0,r.jsx)(v.Z,{className:"w-3 h-3"}),e.city]}),(0,r.jsx)("h3",{className:"text-white font-bold text-lg leading-tight line-clamp-2",children:e.name})]})]})},e.id))}):(0,r.jsxs)(y.Zb,{className:"border-none shadow-md bg-white p-8 text-center transition-all hover:shadow-lg",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(u.Z,{className:"w-6 h-6 text-red-500"})}),(0,r.jsx)("h3",{className:"font-bold text-gray-900 mb-2",children:"No favorites yet"}),(0,r.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Start exploring Egypt and save your favorite spots!"}),(0,r.jsx)(l.default,{href:"/destinations",children:(0,r.jsx)(b.z,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600 hover:bg-blue-50",children:"Explore Now"})})]})]}),(0,r.jsx)(s.E.div,{variants:q,children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(y.Zb,{className:"border-none shadow-lg bg-gradient-to-br from-amber-50 to-orange-50 overflow-hidden",children:(0,r.jsx)(y.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:(0,r.jsx)(p.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-bold text-xl mb-3 text-gray-900",children:"Did You Know?"}),(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:"The Great Pyramid of Giza was the tallest man-made structure in the world for over 3,800 years, standing at 146.6 meters tall."}),(0,r.jsx)(b.z,{variant:"outline",size:"sm",className:"bg-white hover:bg-gray-50 border-amber-200 text-amber-700 hover:text-amber-800 rounded-lg",children:"Discover More"})]})]})})}),(0,r.jsx)(y.Zb,{className:"border-none shadow-lg bg-gradient-to-br from-blue-50 to-cyan-50 overflow-hidden",children:(0,r.jsx)(y.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:(0,r.jsx)(v.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-bold text-xl mb-3 text-gray-900",children:"Cairo Weather"}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:"32\xb0C"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Sunny & Clear"})]}),(0,r.jsx)("div",{className:"text-6xl",children:"☀️"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 bg-white/60 px-3 py-2 rounded-lg",children:"Perfect weather for exploring the Pyramids!"})]})]})})})]})})]})})}},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var r=a(57437),n=a(2265),s=a(94508);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-3xl border border-border/60 bg-card/80 backdrop-blur-sm text-card-foreground shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300",a),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},46281:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return d},a:function(){return c}});var r=a(57437),n=a(2265),s=a(37610),l=a(46102),i=a(72218);let o=(0,n.createContext)(void 0);function d(e){var t,a;let{children:d}=e,c=(0,s.CG)(e=>e.auth),u=(0,s.TL)(),[h]=(0,l.YA)(),[m]=(0,l._y)(),[x]=(0,l.ru)();(0,n.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("refreshToken");!e&&t&&x({refreshToken:t}).catch(()=>{})},[x]),(0,n.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("tokenExpiry"),t=localStorage.getItem("refreshToken");if(!e||!t)return;let a=parseInt(e,10);if(Date.now()>=a-12e4){console.log("Token expiring soon or expired, attempting refresh...");try{await x({refreshToken:t}).unwrap(),console.log("Periodic refresh successful")}catch(e){console.log("Periodic refresh failed, session truly expired"),g()}}};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[x]);let p=async(e,t)=>{try{return await h({email:e,password:t}).unwrap(),!0}catch(e){return!1}},g=async()=>{u((0,i.Cd)()),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("user");try{let e=c.refreshToken||localStorage.getItem("refreshToken");e&&await m({refreshToken:e}).unwrap()}catch(e){}window.location.href="/login"},f={user:c.user,login:p,logout:g,isAuthenticated:c.isAuthenticated,isAdmin:(null===(t=c.user)||void 0===t?void 0:t.role)==="admin",isTourist:(null===(a=c.user)||void 0===a?void 0:a.role)==="tourist"};return(0,r.jsx)(o.Provider,{value:f,children:d})}function c(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},86726:function(e,t,a){"use strict";a.d(t,{TravelPlanProvider:function(){return o},H:function(){return d}});var r=a(57437),n=a(2265);let s=[{id:"tp1",userId:"1",name:"Cairo Adventure",destination:"Cairo",startDate:"2024-05-01",endDate:"2024-05-07",budget:2e3,preferences:{interests:["History","Food"],pace:"moderate",accommodation:"hotel",transportation:"private"},days:[],status:"draft",createdAt:"2024-04-01T10:00:00Z",updatedAt:"2024-04-01T10:00:00Z"}];var l=a(10543);let i=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(s[0]||null),[u,{isLoading:h}]=(0,l.JV)(),m=async e=>{try{let t=await u(e).unwrap();c(t),console.log("Travel plan created:",t)}catch(e){console.error("Failed to create travel plan:",e)}};return(0,r.jsx)(i.Provider,{value:{travelPlan:d,preferences:a,setPreferences:e=>{o(e),console.log("Preferences saved:",e)},updateTravelPlan:e=>{c(e),console.log("Travel plan updated:",e)},createTravelPlan:m},children:t})}function d(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useTravelPlanContext must be used within a TravelPlanProvider");return e}},76858:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},91723:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},88997:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},77945:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]])},15863:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83774:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},52048:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]])},53417:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},82023:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},37775:function(e,t,a){"use strict";a.d(t,{Fm:function(){return i},R5:function(){return r},XB:function(){return d},X_:function(){return c},aZ:function(){return l},t$:function(){return n},ul:function(){return o},y0:function(){return s}});let{useGetDestinationsQuery:r,useGetDestinationQuery:n,useCreateDestinationMutation:s,useUpdateDestinationMutation:l,useDeleteDestinationMutation:i,useAddFavoriteMutation:o,useRemoveFavoriteMutation:d,useGetFavoritesQuery:c}=a(38059).h.injectEndpoints({endpoints:e=>({getDestinations:e.query({query:()=>"/Destinations",providesTags:["Destination"]}),getDestination:e.query({query:e=>"/Destinations/".concat(e),providesTags:(e,t,a)=>[{type:"Destination",id:a}]}),createDestination:e.mutation({query:e=>({url:"/Destinations",method:"POST",body:e}),invalidatesTags:["Destination"]}),updateDestination:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/Destinations/".concat(t),method:"PUT",body:a}},invalidatesTags:(e,t,a)=>{let{id:r}=a;return[{type:"Destination",id:r},"Destination"]}}),deleteDestination:e.mutation({query:e=>({url:"/Destinations/".concat(e),method:"DELETE"}),invalidatesTags:["Destination"]}),addFavorite:e.mutation({query:e=>({url:"/Destinations/".concat(e,"/favorite"),method:"POST"}),invalidatesTags:(e,t,a)=>[{type:"Destination",id:a},"Favorites"]}),removeFavorite:e.mutation({query:e=>({url:"/Destinations/".concat(e,"/favorite"),method:"DELETE"}),invalidatesTags:(e,t,a)=>[{type:"Destination",id:a},"Favorites"]}),getFavorites:e.query({query:()=>"/Destinations/favorites",providesTags:["Favorites"]})})})},10543:function(e,t,a){"use strict";a.d(t,{JV:function(){return o}});var r=a(38059),n=a(39129);let s=r.h.injectEndpoints({endpoints:e=>({getTravelPlans:e.query({query:()=>"/travel-plans",providesTags:["TravelPlan"]}),getTravelPlan:e.query({query:e=>"/travel-plans/".concat(e),providesTags:(e,t,a)=>[{type:"TravelPlan",id:a}]}),createTravelPlan:e.mutation({query:e=>({url:"/travel-plans",method:"POST",body:e}),invalidatesTags:["TravelPlan"]}),updateTravelPlan:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/travel-plans/".concat(t),method:"PUT",body:a}},invalidatesTags:(e,t,a)=>{let{id:r}=a;return[{type:"TravelPlan",id:r}]}}),deleteTravelPlan:e.mutation({query:e=>({url:"/travel-plans/".concat(e),method:"DELETE"}),invalidatesTags:["TravelPlan"]}),addActivity:e.mutation({query:e=>{let{planId:t,dayId:a,activity:r}=e;return{url:"/travel-plans/".concat(t,"/days/").concat(a,"/activities"),method:"POST",body:r}},invalidatesTags:(e,t,a)=>{let{planId:r}=a;return[{type:"TravelPlan",id:r}]}}),updateActivity:e.mutation({query:e=>{let{planId:t,dayId:a,activityId:r,data:n}=e;return{url:"/travel-plans/".concat(t,"/days/").concat(a,"/activities/").concat(r),method:"PUT",body:n}},invalidatesTags:(e,t,a)=>{let{planId:r}=a;return[{type:"TravelPlan",id:r}]}}),deleteActivity:e.mutation({query:e=>{let{planId:t,dayId:a,activityId:r}=e;return{url:"/travel-plans/".concat(t,"/days/").concat(a,"/activities/").concat(r),method:"DELETE"}},invalidatesTags:(e,t,a)=>{let{planId:r}=a;return[{type:"TravelPlan",id:r}]}}),generateTravelPlan:e.mutation({query:e=>({url:"/travel-plans/generate",method:"POST",body:e}),invalidatesTags:["TravelPlan"]}),getTravelSuggestions:e.query({query:e=>{let{preferences:t}=e;return{url:"/travel-plans/suggestions",method:"POST",body:t}}}),exportTravelPlan:e.mutation({query:e=>{let{id:t,format:a}=e;return{url:"/travel-plans/".concat(t,"/export?format=").concat(a),method:"GET",responseHandler:e=>e.blob()}}}),shareTravelPlan:e.mutation({query:e=>{let{id:t,permissions:a}=e;return{url:"/travel-plans/".concat(t,"/share"),method:"POST",body:{permissions:a}}}}),duplicateTravelPlan:e.mutation({query:e=>({url:"/travel-plans/".concat(e,"/duplicate"),method:"POST"}),invalidatesTags:["TravelPlan"]})})}),{useGetTravelPlansQuery:l,useGetTravelPlanQuery:i,useCreateTravelPlanMutation:o,useUpdateTravelPlanMutation:d,useDeleteTravelPlanMutation:c,useAddActivityMutation:u,useUpdateActivityMutation:h,useDeleteActivityMutation:m,useGenerateTravelPlanMutation:x,useGetTravelSuggestionsQuery:p,useExportTravelPlanMutation:g,useShareTravelPlanMutation:f,useDuplicateTravelPlanMutation:v}=s,y=(0,n.oM)({name:"travelPlan",initialState:{plans:[],currentPlan:null,isLoading:!1,error:null},reducers:{setCurrentPlan:(e,t)=>{e.currentPlan=t.payload},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},clearError:e=>{e.error=null},addPlan:(e,t)=>{e.plans.push(t.payload)},updatePlan:(e,t)=>{var a;let r=e.plans.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.plans[r]=t.payload),(null===(a=e.currentPlan)||void 0===a?void 0:a.id)===t.payload.id&&(e.currentPlan=t.payload)},removePlan:(e,t)=>{var a;e.plans=e.plans.filter(e=>e.id!==t.payload),(null===(a=e.currentPlan)||void 0===a?void 0:a.id)===t.payload&&(e.currentPlan=null)}},extraReducers:e=>{e.addMatcher(s.endpoints.getTravelPlans.matchPending,e=>{e.isLoading=!0,e.error=null}).addMatcher(s.endpoints.getTravelPlans.matchFulfilled,(e,t)=>{e.isLoading=!1,e.plans=t.payload}).addMatcher(s.endpoints.getTravelPlans.matchRejected,(e,t)=>{var a;e.isLoading=!1,e.error=(null===(a=t.error)||void 0===a?void 0:a.message)||"Failed to fetch travel plans"}).addMatcher(s.endpoints.getTravelPlan.matchFulfilled,(e,t)=>{e.currentPlan=t.payload}).addMatcher(s.endpoints.createTravelPlan.matchFulfilled,(e,t)=>{e.plans.push(t.payload),e.currentPlan=t.payload}).addMatcher(s.endpoints.updateTravelPlan.matchFulfilled,(e,t)=>{y.caseReducers.updatePlan(e,t)}).addMatcher(s.endpoints.deleteTravelPlan.matchFulfilled,(e,t)=>{var a;let r=t.meta.arg.originalArgs;e.plans=e.plans.filter(e=>e.id!==r),(null===(a=e.currentPlan)||void 0===a?void 0:a.id)===r&&(e.currentPlan=null)})}}),{setCurrentPlan:b,setLoading:j,setError:w,clearError:N,addPlan:T,updatePlan:P,removePlan:k}=y.actions;t.ZP=y.reducer},37610:function(e,t,a){"use strict";a.d(t,{CG:function(){return s},TL:function(){return n}});var r=a(68575);let n=()=>(0,r.I0)(),s=r.v9}},function(e){e.O(0,[6137,7210,5650,3557,3145,4236,2971,2117,1744],function(){return e(e.s=10789)}),_N_E=e.O()}]);